package main

import "fmt"

// λ³€μ μ•μ— '&'(Ampersand) λ¥Ό λ¶™μ΄λ©΄ ν•΄λ‹Ή λ³€μμ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό λ»ν•λ‹¤
// π‘‰ ν¬μΈν„°ν• λ³€μμ— λ€μ…μ„ ν•  μ μμ

// '*' λ” ν¬μΈν„° λ³€μλ¥Ό μ—­μ°Έμ΅°(dereference) ν•΄μ„
// π‘‰ ν¬μΈν„°ν• λ³€μμ— κ°’μ„ λ€μ…ν•κ±°λ‚, κ°€μ Έμ¬ μ μλ‹¤

func star(starz *string) { // μ—­μ°Έμ΅°ν•λ” ν•¨μ
	*starz = "Look! Star!"
}

// func moon(moond string) { // κ·Έλƒ¥ ν•¨μ 
// 	moond = "Moon!"
// 	return moond
// }

func main() {

	x := 7
	z := &x // x κ°€ μ €μ¥λ μ£Όμ†κ°’
	fmt.Println(x, z) // π‘‰ 7 0xc0000100a0

	*z = 9 // x κ°€ μ €μ¥λ μ£Όμ†κ°’μ— 9λ¥Ό μ£Όμ…
	fmt.Println(x, z) // π‘‰ 9 0xc0000100a0
	// x κ°’μ€ λ³€ν•κ³  μ£Όμ†λ” κ·Έλ€λ΅ λ‚μ¤λ”κ±Έ λ³Ό μ μλ‹¤

//--------------------------------------------

	look := "Sun!"
	fmt.Println(look) // π‘‰ Sun! μ¶λ ¥

	star(&look) // star ν•¨μκ°€ look μ μ €μ¥λ μ£Όμ†κ°’μ„ μ—­μ°Έμ΅°ν•¨
	// π‘‰ look μ΄ μ €μ¥λ μ£Όμ†μ— starz μ£Όμ…
	fmt.Println(look) // π‘‰ Look! Star! μ¶λ ¥

//--------------------------------------------

	real := "good!"
	var move *string = &real // real μ΄ μ €μ¥λ μ£Όμ†κ°’μ„ μ—­μ°Έμ΅°

	fmt.Println(move) // π‘‰ 0xc00003e1f0 μ €μ¥λ μ£Όμ†κ°’ μ¶λ ¥
	fmt.Println(*move) // π‘‰ μ£Όμ†κ°’μ„ λ‹¤μ‹ μ—­μ°Έμ΅°ν•λ©΄? π‘‰ good! μ¶λ ¥

	fmt.Println(move, &move) 
	// π‘‰ moveμ μ €μ¥λ μ£Όμ†κ°’(realμ μ£Όμ†)κ³Ό / move μ λ³€μ μ£Όμ†κ°’μ€ κ°™μ„κΉ?
	// π‘‰ 0xc00003e1f0  0xc000006028  λ‹¤λ¥΄λ‹¤
	// real μ μ£Όμ†κ°’ , μ €μ¥λ move λ³€μμ μ£Όμ†κ°’
}
